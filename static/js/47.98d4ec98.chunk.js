"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[47],{3047:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var a=t(8152),r=t(9434),i=t(2791),o=t(3526),s=function(e){return e.contacts},c=t(184),u=function(e){var n=e.id,t=e.name,a=e.phone,r=e.onClick;return(0,c.jsxs)("li",{children:[t,": ",a,(0,c.jsx)("button",{onClick:function(){return r(n)},type:"button",children:"Delete"})]})},l=(0,i.memo)(u),m=function(e){var n=e.items,t=e.onClick,a=n.map((function(e){var n=e.phone,a=e.name,r=e.id;return(0,c.jsx)(l,{id:r,onClick:t,phone:n,name:a},r)}));return(0,c.jsx)("ul",{children:a})};m.defaultProps={items:[]};var d=(0,i.memo)(m),h=t(4942),p=t(1413);function f(e){var n=e.onSubmit,t=e.initialState,r=(0,i.useState)((0,p.Z)({},t)),o=(0,a.Z)(r,2),s=o[0],u=o[1],l=function(e){var n=e.target,t=n.name,a=n.value;u((function(e){return(0,p.Z)((0,p.Z)({},e),{},(0,h.Z)({},t,a))}))},m=s.name,d=s.number;return(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(s),u((0,p.Z)({},t))},children:[(0,c.jsxs)("label",{children:["Name",(0,c.jsx)("input",{type:"text",name:"name",value:m,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:l})]}),(0,c.jsxs)("label",{children:["Phone",(0,c.jsx)("input",{type:"tel",name:"number",value:d,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:l})]}),(0,c.jsx)("button",{type:"submit",children:"Add contact"})]})}var x=(0,i.memo)(f),b=function(e){var n=e.onChange;return(0,c.jsxs)("label",{children:["Find contacts by name",(0,c.jsx)("input",{onChange:n,placeholder:"enter name",type:"text",name:"filter"})]})},j=(0,i.memo)(b),C=function(){var e=(0,i.useState)(""),n=(0,a.Z)(e,2),t=n[0],u=n[1],l=(0,r.I0)(),m=(0,r.v9)(s),h=m.items,p=m.error,f=m.loading;(0,i.useEffect)((function(){l((0,o.yF)())}),[l]);var b=(0,i.useCallback)((function(e){return l((0,o.uK)(e))}),[l]),C=(0,i.useCallback)((function(e){l((0,o.zY)(e))}),[l]),v=(0,i.useCallback)((function(e){var n=e.target.value;return u(n.trim())}),[u]);return(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)("h1",{className:"title",children:"Phonebook"}),(0,c.jsx)(x,{onSubmit:b}),(0,c.jsx)("h2",{className:"title",children:"Contacts"}),(0,c.jsx)(j,{onChange:v}),f&&(0,c.jsx)("p",{children:"Loading..."}),p&&(0,c.jsx)("p",{children:"Error: ".concat(p)}),h.length>0&&!p&&!f&&(0,c.jsx)(d,{items:t?h.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})):h,onClick:C})]})}}}]);
//# sourceMappingURL=47.98d4ec98.chunk.js.map